(this["webpackJsonpmodulo-5-w"]=this["webpackJsonpmodulo-5-w"]||[]).push([[0],{153:function(e,t,n){e.exports={div:"PeliculaIndividual_div__1iEcq"}},154:function(e,t,n){e.exports={div:"ListadoPeliculas_div__1MzjP"}},173:function(e,t,n){},174:function(e,t,n){},369:function(e,t,n){},371:function(e,t,n){},388:function(e,t,n){},390:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(47),i=n.n(r),o=(n(173),n(5)),s=n(13),l=n(8),u=(n(174),c.a.createContext({claims:[],actualizar:function(){}})),d=n(0);function j(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useContext)(u).claims;return Object(a.useEffect)((function(){if(e.role){var t=i.findIndex((function(t){return"role"===t.nombre&&t.valor===e.role}));r(t>-1)}else r(i.length>0)}),[i,e.role]),Object(d.jsx)(d.Fragment,{children:c?e.autorizado:e.noAutorizado})}var b="token",m="token-expiracion";function p(e){localStorage.setItem(b,e.token),localStorage.setItem(m,e.expiracion.toString())}function h(){var e=localStorage.getItem(b);if(!e)return[];var t=localStorage.getItem(m);if(new Date(t)<=new Date)return f(),[];var n=JSON.parse(atob(e.split(".")[1])),a=[];for(var c in n)a.push({nombre:c,valor:n[c]});return a}function f(){localStorage.removeItem(b),localStorage.removeItem(m)}function O(e){return Object(d.jsx)("button",{type:e.type,className:e.className,disabled:e.disabled,onClick:e.onClick,style:e.style,children:e.children})}function x(){var e="active",t=Object(a.useContext)(u),n=t.actualizar,c=t.claims;return Object(d.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)(l.c,{className:"navbar-brand",activeClassName:e,to:"/",children:"React Pel\xedculas"}),Object(d.jsxs)("div",{className:"collapse navbar-collapse",style:{display:"flex",justifyContent:"space-between"},children:[Object(d.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.c,{className:"nav-link",activeClassName:e,to:"/peliculas/filtrar",children:"Filtrar Pel\xedculas"})}),Object(d.jsx)(j,{role:"admin",autorizado:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.c,{className:"nav-link",activeClassName:e,to:"/generos",children:"G\xe9neros"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.c,{className:"nav-link",activeClassName:e,to:"/actores",children:"Actores"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.c,{className:"nav-link",activeClassName:e,to:"/cines",children:"Cines"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.c,{className:"nav-link",activeClassName:e,to:"/peliculas/crear",children:"Crear Pel\xedculas"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(l.c,{className:"nav-link",activeClassName:e,to:"/usuarios",children:"Usuarios"})})]})})]}),Object(d.jsx)("div",{className:"d-flex",children:Object(d.jsx)(j,{autorizado:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("span",{className:"nav-link",children:["Hola, ",function(){var e;return null===(e=c.filter((function(e){return"email"===e.nombre}))[0])||void 0===e?void 0:e.valor}()]}),Object(d.jsx)(O,{onClick:function(){f(),n([])},className:"nav-link btn btn-link",children:"Log out"})]}),noAutorizado:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.b,{to:"/Registro",className:"nav-link btn btn-link",children:"Registro"}),Object(d.jsx)(l.b,{to:"/Login",className:"nav-link btn btn-link",children:"Login"})]})})})]})]})})}O.defaultProps={type:"button",disabled:!1,className:"btn btn-primary",style:null};var g="https://peliculasapi20210422174024.azurewebsites.net/api",v="".concat(g,"/generos"),y="".concat(g,"/actores"),S="".concat(g,"/cines"),N="".concat(g,"/peliculas"),C="".concat(g,"/cuentas"),w="".concat(g,"/rating"),k=n(7),F=n.n(k),E=n(10),I=n(9),L=n.n(I),P=n(39),A=n.n(P);function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\xbfDesea borrar el registro?",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Borrar";A.a.fire({title:t,confirmButtonText:n,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then((function(t){t.isConfirmed&&e()}))}function D(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1];function i(e){return e.activo?"active pointer":e.habilitado?"pointer":"disabled"}return Object(a.useEffect)((function(){var t=1!==e.paginaActual,n=e.paginaActual-1,a=[];a.push({texto:"Anterior",habilitado:t,pagina:n,activo:!1});for(var c=1;c<=e.cantidadTotalDePaginas;c++)c>=e.paginaActual-e.radio&&c<=e.paginaActual+e.radio&&a.push({texto:"".concat(c),activo:e.paginaActual===c,habilitado:!0,pagina:c});var i=e.paginaActual!==e.cantidadTotalDePaginas&&e.cantidadTotalDePaginas>0,o=e.paginaActual+1;a.push({texto:"Siguiente",pagina:o,habilitado:i,activo:!1}),r(a)}),[e.paginaActual,e.cantidadTotalDePaginas,e.radio]),Object(d.jsx)("nav",{children:Object(d.jsx)("ul",{className:"pagination justify-content-center",children:c.map((function(t){return Object(d.jsx)("li",{onClick:function(){return function(t){t.pagina!==e.paginaActual&&t.habilitado&&e.onChange(t.pagina)}(t)},className:"page-item cursor ".concat(i(t)),children:Object(d.jsx)("span",{className:"page-link",children:t.texto})},t.texto)}))})})}function T(){return Object(d.jsx)("img",{src:"https://media3.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif?cid=ecf05e47uz06nfdowxn0wvey36z5wxqxw36vanplm24i46fi&rid=giphy.gif",alt:"loading gif"})}function R(e){return e.listado?0===e.listado.length?e.listadoVacioUI?e.listadoVacioUI:Object(d.jsx)(d.Fragment,{children:"No hay elementos para mostrar"}):e.children:e.cargandoUI?e.cargandoUI:Object(d.jsx)(T,{})}function U(e){var t=Object(a.useState)(),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(0),s=Object(o.a)(i,2),u=s[0],j=s[1],b=Object(a.useState)(10),m=Object(o.a)(b,2),p=m[0],h=m[1],f=Object(a.useState)(1),x=Object(o.a)(f,2),g=x[0],v=x[1];function y(){L.a.get(e.url,{params:{pagina:g,recordsPorPagina:p}}).then((function(e){var t=parseInt(e.headers.cantidadtotalregistros,10);j(Math.ceil(t/p)),r(e.data)}))}function S(){return(S=Object(E.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.delete("".concat(e.url,"/").concat(n));case 3:y(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.response.data);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}Object(a.useEffect)((function(){y()}),[g,p]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:e.titulo}),e.urlCrear?Object(d.jsxs)(l.b,{className:"btn btn-primary",to:e.urlCrear,children:["Crear ",e.nombreEntidad]}):null,Object(d.jsxs)("div",{className:"form-group",style:{width:"150px"},children:[Object(d.jsx)("label",{children:"Registros por p\xe1gina:"}),Object(d.jsxs)("select",{className:"form-control",defaultValue:10,onChange:function(e){v(1),h(parseInt(e.currentTarget.value,10))},children:[Object(d.jsx)("option",{value:5,children:"5"}),Object(d.jsx)("option",{value:10,children:"10"}),Object(d.jsx)("option",{value:25,children:"25"}),Object(d.jsx)("option",{value:50,children:"50"})]})]}),Object(d.jsx)(D,{cantidadTotalDePaginas:u,paginaActual:g,onChange:function(e){return v(e)}}),Object(d.jsx)(R,{listado:c,children:Object(d.jsx)("table",{className:"table table-striped",children:e.children(c,(function(e,t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.b,{className:"btn btn-success",to:e,children:"Editar"}),Object(d.jsx)(O,{onClick:function(){return z((function(){return function(e){return S.apply(this,arguments)}(t)}))},className:"btn btn-danger",children:"Borrar"})]})}))})})]})}D.defaultProps={radio:3};var q=n(153),V=n.n(q),M=c.a.createContext((function(){}));function B(e){var t=function(){return"/pelicula/".concat(e.pelicula.id)},n=Object(a.useContext)(M);return Object(d.jsxs)("div",{className:V.a.div,children:[Object(d.jsx)(l.b,{to:t(),children:Object(d.jsx)("img",{src:e.pelicula.poster,alt:"Poster"})}),Object(d.jsx)("p",{children:Object(d.jsx)(l.b,{to:t(),children:e.pelicula.titulo})}),Object(d.jsx)(j,{role:"admin",autorizado:Object(d.jsxs)("div",{children:[Object(d.jsx)(l.b,{style:{marginRight:"1rem"},className:"btn btn-info",to:"/peliculas/editar/".concat(e.pelicula.id),children:"Editar"}),Object(d.jsx)(O,{onClick:function(){return z((function(){L.a.delete("".concat(N,"/").concat(e.pelicula.id)).then((function(){n()}))}))},className:"btn btn-danger",children:"Borrar"})]})})]})}var G=n(154),J=n.n(G);function _(e){var t;return Object(d.jsx)(R,{listado:e.peliculas,children:Object(d.jsx)("div",{className:J.a.div,children:null===(t=e.peliculas)||void 0===t?void 0:t.map((function(e){return Object(d.jsx)(B,{pelicula:e},e.id)}))})})}function H(e){return Object(d.jsx)(d.Fragment,{children:e.errores?Object(d.jsx)("ul",{style:{color:"red"},children:e.errores.map((function(e,t){return Object(d.jsx)("li",{children:e},t)}))}):null})}var X=n(12),K=n(17);function Y(e){return Object(d.jsx)("div",{className:"text-danger",children:e.mensaje})}function Q(e){return Object(d.jsxs)("div",{className:"form-group",children:[e.label?Object(d.jsx)("label",{htmlFor:e.campo,children:e.label}):null,Object(d.jsx)(X.b,{type:e.type,name:e.campo,className:"form-control",placeholder:e.placeholder}),Object(d.jsx)(X.a,{name:e.campo,children:function(e){return Object(d.jsx)(Y,{mensaje:e})}})]})}function W(e){return Object(d.jsx)(X.d,{initialValues:e.modelo,onSubmit:e.onSubmit,validationSchema:K.c({nombre:K.d().required("Este campo es requerido").max(50,"La longitud m\xe1xima es de 50 caracteres").primeraLetraMayuscula()}),children:function(e){return Object(d.jsxs)(X.c,{children:[Object(d.jsx)(Q,{campo:"nombre",label:"Nombre"}),Object(d.jsx)(O,{disabled:e.isSubmitting,type:"submit",children:"Salvar"}),Object(d.jsx)(l.b,{className:"btn btn-secondary",to:"/generos",children:"Cancelar"})]})}})}function Z(e){var t=Object(s.i)().id,n=Object(a.useState)(),c=Object(o.a)(n,2),r=c[0],i=c[1],l=Object(a.useState)([]),u=Object(o.a)(l,2),j=u[0],b=u[1],m=Object(s.g)();function p(){return(p=Object(E.a)(F.a.mark((function n(a){var c;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e.transformarFormData){n.next=7;break}return c=e.transformarFormData(a),n.next=5,L()({method:"put",url:"".concat(e.url,"/").concat(t),data:c,headers:{"Content-Type":"multipart/form-data"}});case 5:n.next=9;break;case 7:return n.next=9,L.a.put("".concat(e.url,"/").concat(t),a);case 9:m.push(e.urlIndice),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),b(n.t0.response.data);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){L.a.get("".concat(e.url,"/").concat(t)).then((function(t){i(e.transformar(t.data))}))}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h3",{children:["Editar ",e.nombreEntidad]}),Object(d.jsx)(H,{errores:j}),r?e.children(r,(function(e){return p.apply(this,arguments)})):Object(d.jsx)(T,{})]})}function $(e){var t=new FormData;return t.append("nombre",e.nombre),e.biografia&&t.append("biografia",e.biografia),e.fechaNacimiento&&t.append("fechaNacimiento",te(e.fechaNacimiento)),e.foto&&t.append("foto",e.foto),t}function ee(e){var t=new FormData;return t.append("titulo",e.titulo),e.resumen&&t.append("resumen",e.resumen),t.append("trailer",e.trailer),t.append("enCines",String(e.enCines)),e.fechaLanzamiento&&t.append("fechaLanzamiento",te(e.fechaLanzamiento)),e.poster&&t.append("poster",e.poster),t.append("generosIds",JSON.stringify(e.generosIds)),t.append("cinesIds",JSON.stringify(e.cinesIds)),t.append("actores",JSON.stringify(e.actores)),t}function te(e){e=new Date(e);var t=new Intl.DateTimeFormat("en",{year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(e),n=Object(o.a)(t,5),a=n[0].value,c=n[2].value,r=n[4].value;return"".concat(r,"-").concat(a,"-").concat(c)}function ne(e){var t,n,a=Object(X.e)(),c=a.values,r=a.validateForm,i=a.touched,o=a.errors;return console.log("values",c),console.log("props.campo",c[e.campo]),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{htmlFor:e.campo,children:e.label}),Object(d.jsx)("input",{type:"date",className:"form-control",id:e.campo,name:e.campo,defaultValue:null===(t=c[e.campo])||void 0===t?void 0:t.toLocaleDateString("en-CA"),onChange:function(t){var n=new Date(t.currentTarget.value+"T00:00:00");c[e.campo]=n,r()}}),i[e.campo]&&o[e.campo]?Object(d.jsx)(Y,{mensaje:null===(n=o[e.campo])||void 0===n?void 0:n.toString()}):null]})}function ae(e){var t={marginTop:"10px"},n={width:"450px"},c=Object(a.useState)(""),r=Object(o.a)(c,2),i=r[0],s=r[1],l=Object(a.useState)(e.imagenURL),u=Object(o.a)(l,2),j=u[0],b=u[1],m=Object(X.e)().values,p=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return t(a.result)},a.onerror=function(e){return n(e)}}))};return Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:e.label}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png",onChange:function(t){if(t.currentTarget.files){var n=t.currentTarget.files[0];p(n).then((function(e){return s(e)})).catch((function(e){return console.error(e)})),m[e.campo]=n,b("")}}})}),i?Object(d.jsx)("div",{children:Object(d.jsx)("div",{style:t,children:Object(d.jsx)("img",{style:n,src:i,alt:"imagen seleccionada"})})}):null,j?Object(d.jsx)("div",{children:Object(d.jsx)("div",{style:t,children:Object(d.jsx)("img",{style:n,src:j,alt:"imagen seleccionada"})})}):null]})}Q.defaultProps={type:"text"},Z.defaultProps={transformar:function(e){return e}},ae.defaultProps={imagenURL:""};var ce=n(75),re=n.n(ce);n(369);function ie(e){var t=Object(X.e)().values;return Object(d.jsxs)("div",{className:"form-group form-markdown",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:e.label}),Object(d.jsx)("div",{children:Object(d.jsx)(X.b,{name:e.campo,as:"textarea",className:"form-textarea"})})]}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("label",{children:[e.label," (preview):"]}),Object(d.jsx)("div",{className:"markdown-container",children:Object(d.jsx)(re.a,{children:t[e.campo]})})]})]})}function oe(e){return Object(d.jsx)(X.d,{initialValues:e.modelo,onSubmit:e.onSubmit,validationSchema:K.c({nombre:K.d().required("Este campo es requerido").primeraLetraMayuscula(),fechaNacimiento:K.b().nullable().required("Este campo es requerido")}),children:function(t){return Object(d.jsxs)(X.c,{children:[Object(d.jsx)(Q,{campo:"nombre",label:"Nombre"}),Object(d.jsx)(ne,{label:"Fecha Nacimiento",campo:"fechaNacimiento"}),Object(d.jsx)(ae,{campo:"foto",label:"Foto",imagenURL:e.modelo.fotoURL}),Object(d.jsx)(ie,{campo:"biografia",label:"Biograf\xeda"}),Object(d.jsx)(O,{disabled:t.isSubmitting,type:"submit",children:"Salvar"}),Object(d.jsx)(l.b,{className:"btn btn-secondary",to:"/actores",children:"Cancelar"})]})}})}var se=n(27),le=n(393),ue=n(397),de=n(394),je=n(395),be=n(396),me=n(29),pe=n.n(me),he=n(161),fe=n(162),Oe=(n(370),pe.a.icon({iconUrl:he.a,shadowUrl:fe.a,iconAnchor:[16,37]}));function xe(e){var t=Object(a.useState)(e.coordenadas),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(d.jsxs)(le.a,{center:[18.467455,-69.931242],zoom:14,style:{height:e.height},children:[Object(d.jsx)(ue.a,{attribution:"React Pel\xedculas",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.soloLectura?null:Object(d.jsx)(ge,{setPunto:function(t){r([t]),e.manejarClickMapa(t)}}),c.map((function(e){return Object(d.jsx)(ve,Object(se.a)({},e),e.lat+e.lng)}))]})}function ge(e){return Object(de.a)("click",(function(t){e.setPunto({lat:t.latlng.lat,lng:t.latlng.lng})})),null}function ve(e){return Object(d.jsx)(je.a,{position:[e.lat,e.lng],children:e.nombre?Object(d.jsx)(be.a,{children:e.nombre}):null})}function ye(e){var t=Object(X.e)().values;return Object(d.jsx)(xe,{coordenadas:e.coordenadas,manejarClickMapa:function(n){t[e.campoLat]=n.lat,t[e.campoLng]=n.lng}})}function Se(e){function t(){if(e.modelo.latitud&&e.modelo.longitud)return[{lat:e.modelo.latitud,lng:e.modelo.longitud}]}return Object(d.jsx)(X.d,{initialValues:e.modelo,onSubmit:e.onSubmit,validationSchema:K.c({nombre:K.d().required("Este campo es requerido").primeraLetraMayuscula()}),children:function(e){return Object(d.jsxs)(X.c,{children:[Object(d.jsx)(Q,{label:"Nombre",campo:"nombre"}),Object(d.jsx)("div",{style:{marginBottom:"1rem"},children:Object(d.jsx)(ye,{campoLat:"latitud",campoLng:"longitud",coordenadas:t()})}),Object(d.jsx)(O,{disabled:e.isSubmitting,type:"submit",children:"Salvar"}),Object(d.jsx)(l.b,{className:"btn btn-secondary",to:"/cines",children:"Cancelar"})]})}})}pe.a.Marker.prototype.options.icon=Oe,xe.defaultProps={height:"500px",soloLectura:!1,manejarClickMapa:function(){}},ye.defaultProps={coordenadas:[]};var Ne=n(14);function Ce(e){return Object(d.jsxs)("div",{className:"form-group form-check",children:[Object(d.jsx)(X.b,{className:"form-check-input",id:e.campo,name:e.campo,type:"checkbox"}),Object(d.jsx)("label",{htmlFor:e.campo,children:e.label})]})}n(371);function we(e){return Object(d.jsxs)("div",{className:"selector-multiple",children:[Object(d.jsx)("ul",{children:e.noSeleccionados.map((function(t){return Object(d.jsx)("li",{onClick:function(){return function(t){var n=[].concat(Object(Ne.a)(e.seleccionados),[t]),a=e.noSeleccionados.filter((function(e){return e!==t}));e.onChange(n,a)}(t)},children:t.valor},t.llave)}))}),Object(d.jsxs)("div",{className:"selector-multiple-botones",children:[Object(d.jsx)("button",{type:"button",onClick:function(){var t=[].concat(Object(Ne.a)(e.seleccionados),Object(Ne.a)(e.noSeleccionados));e.onChange(t,[])},children:">>"}),Object(d.jsx)("button",{type:"button",onClick:function(){var t=[].concat(Object(Ne.a)(e.noSeleccionados),Object(Ne.a)(e.seleccionados));e.onChange([],t)},children:"<<"})]}),Object(d.jsx)("ul",{children:e.seleccionados.map((function(t){return Object(d.jsx)("li",{onClick:function(){return function(t){var n=e.seleccionados.filter((function(e){return e!==t})),a=[].concat(Object(Ne.a)(e.noSeleccionados),[t]);e.onChange(n,a)}(t)},children:t.valor},t.llave)}))})]})}var ke=n(167);function Fe(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),s=Object(o.a)(i,2),l=s[0],u=s[1],j=Object(a.useState)(void 0),b=Object(o.a)(j,2),m=b[0],p=b[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("label",{children:"Actores"}),Object(d.jsx)(ke.a,{id:"typeahead",onChange:function(t){-1===e.actores.findIndex((function(e){return e.id===t[0].id}))&&e.onAdd([].concat(Object(Ne.a)(e.actores),[t[0]]))},options:l,labelKey:function(e){return e.nombre},filterBy:function(){return!0},isLoading:c,onSearch:function(e){r(!0),L.a.get("".concat(y,"/buscarPorNombre/").concat(e)).then((function(e){u(e.data),r(!1)}))},placeholder:"Escriba el nombre del actor...",minLength:2,flip:!0,selected:[],renderMenuItemChildren:function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{alt:"imagen actor",src:e.foto,style:{height:"64px",marginRight:"10px",width:"64px"}}),Object(d.jsx)("span",{children:e.nombre})]})}}),Object(d.jsx)("ul",{className:"list-group",children:e.actores.map((function(t){return Object(d.jsxs)("li",{draggable:!0,onDragStart:function(){return function(e){p(e)}(t)},onDragOver:function(){return function(t){if(m&&t.id!==m.id){var n=e.actores.findIndex((function(e){return e.id===m.id})),a=e.actores.findIndex((function(e){return e.id===t.id})),c=Object(Ne.a)(e.actores);c[a]=m,c[n]=t,e.onAdd(c)}}(t)},className:"list-group-item list-group-item-action",children:[e.listadoUI(t),Object(d.jsx)("span",{className:"badge badge-primary badge-pill pointer",style:{marginLeft:"0.5rem"},onClick:function(){return e.onRemove(t)},children:"X"})]},t.id)}))})]})}function Ee(e){var t=Object(a.useState)(w(e.generosSeleccionados)),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(w(e.generosNoSeleccionados)),s=Object(o.a)(i,2),u=s[0],j=s[1],b=Object(a.useState)(w(e.cinesSeleccionados)),m=Object(o.a)(b,2),p=m[0],h=m[1],f=Object(a.useState)(w(e.cinesNoSeleccionados)),x=Object(o.a)(f,2),g=x[0],v=x[1],y=Object(a.useState)(e.actoresSeleccionados),S=Object(o.a)(y,2),N=S[0],C=S[1];function w(e){return e.map((function(e){return{llave:e.id,valor:e.nombre}}))}return Object(d.jsx)(X.d,{initialValues:e.modelo,onSubmit:function(t,n){t.generosIds=c.map((function(e){return e.llave})),t.cinesIds=p.map((function(e){return e.llave})),t.actores=N,e.onSubmit(t,n)},validationSchema:K.c({titulo:K.d().required("Este campo es requerido").primeraLetraMayuscula()}),children:function(t){return Object(d.jsxs)(X.c,{children:[Object(d.jsx)(Q,{label:"T\xedtulo",campo:"titulo"}),Object(d.jsx)(Ce,{label:"En cines",campo:"enCines"}),Object(d.jsx)(Q,{label:"Trailer",campo:"trailer"}),Object(d.jsx)(ne,{campo:"fechaLanzamiento",label:"Fecha Lanzamiento"}),Object(d.jsx)(ae,{campo:"poster",label:"Poster",imagenURL:e.modelo.posterURL}),Object(d.jsx)(ie,{campo:"resumen",label:"Resumen"}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"G\xe9neros:"}),Object(d.jsx)(we,{seleccionados:c,noSeleccionados:u,onChange:function(e,t){r(e),j(t)}})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Cines:"}),Object(d.jsx)(we,{seleccionados:p,noSeleccionados:g,onChange:function(e,t){h(e),v(t)}})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)(Fe,{onAdd:function(e){C(e)},onRemove:function(e){var t=N.filter((function(t){return t!==e}));C(t)},actores:N,listadoUI:function(e){return Object(d.jsxs)(d.Fragment,{children:[e.nombre," / ",Object(d.jsx)("input",{placeholder:"Personaje",type:"text",value:e.personaje,onChange:function(t){var n=N.findIndex((function(t){return t.id===e.id})),a=Object(Ne.a)(N);a[n].personaje=t.currentTarget.value,C(a)}})]})}})}),Object(d.jsx)(O,{disabled:t.isSubmitting,type:"submit",children:"Enviar"}),Object(d.jsx)(l.b,{className:"btn btn-secondary",to:"/",children:"Cancelar"})]})}})}var Ie=n(165);n(388);function Le(e){var t=Object(a.useContext)(u).claims,n=Object(a.useState)([]),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(e.valorSeleccionado),l=Object(o.a)(s,2),j=l[0],b=l[1];return Object(a.useEffect)((function(){i(Array(e.maximoValor).fill(0))}),[e.maximoValor]),Object(d.jsx)(d.Fragment,{children:r.map((function(n,a){return Object(d.jsx)(Ie.a,{icon:"star",onMouseOver:function(){b(a+1)},onClick:function(){return n=a+1,void(0!==t.length?(b(n),e.onChange(n)):A.a.fire({title:"Error",text:"Debes loguearte para votar",icon:"error"}));var n},className:"fa-lg pointer ".concat(j>=a+1?"checked":null)},a)}))})}function Pe(e){return Object(d.jsx)(X.d,{initialValues:e.modelo,onSubmit:e.onSubmit,validationSchema:K.c({email:K.d().required("Este campo es requerido").email("Debe colocar un email v\xe1lido"),password:K.d().required("Este campo es requerido")}),children:function(e){return Object(d.jsxs)(X.c,{children:[Object(d.jsx)(Q,{label:"Email",campo:"email"}),Object(d.jsx)(Q,{label:"Password",campo:"password",type:"password"}),Object(d.jsx)(O,{disabled:e.isSubmitting,type:"submit",children:"Enviar"}),Object(d.jsx)(l.b,{className:"btn btn-secondary",to:"/",children:"Cancelar"})]})}})}var Ae=[{path:"/generos/crear",componente:function(){var e=Object(s.g)(),t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1];function i(e){return l.apply(this,arguments)}function l(){return(l=Object(E.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post(v,n);case 3:e.push("/generos"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r(t.t0.response.data);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Crear G\xe9nero"}),Object(d.jsx)(H,{errores:c}),Object(d.jsx)(W,{modelo:{nombre:""},onSubmit:function(){var e=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})},esAdmin:!0},{path:"/generos/editar/:id(\\d+)",componente:function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(Z,{url:v,urlIndice:"/generos",nombreEntidad:"G\xe9neros",children:function(e,t){return Object(d.jsx)(W,{modelo:e,onSubmit:function(){var e=Object(E.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}})})},esAdmin:!0},{path:"/generos",componente:function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(U,{url:v,urlCrear:"generos/crear",titulo:"G\xe9neros",nombreEntidad:"G\xe9nero",children:function(e,t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{}),Object(d.jsx)("th",{children:"Nombre"})]})}),Object(d.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t("generos/editar/".concat(e.id),e.id)}),Object(d.jsx)("td",{children:e.nombre})]},e.id)}))})]})}})})},exact:!0,esAdmin:!0},{path:"/actores/crear",componente:function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(s.g)();function i(e){return l.apply(this,arguments)}function l(){return(l=Object(E.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=$(t),e.next=4,L()({method:"post",url:y,data:n,headers:{"Content-Type":"multipart/form-data"}});case 4:r.push("/actores"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Crear Actores"}),Object(d.jsx)(H,{errores:n}),Object(d.jsx)(oe,{modelo:{nombre:"",fechaNacimiento:void 0},onSubmit:function(){var e=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})},esAdmin:!0},{path:"/actores/editar/:id(\\d+)",componente:function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(Z,{url:y,urlIndice:"/actores",nombreEntidad:"Actores",transformarFormData:$,transformar:function(e){return{nombre:e.nombre,fotoURL:e.foto,biografia:e.biografia,fechaNacimiento:new Date(e.fechaNacimiento)}},children:function(e,t){return Object(d.jsx)(oe,{modelo:e,onSubmit:function(){var e=Object(E.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}})})},esAdmin:!0},{path:"/actores",componente:function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(U,{url:y,urlCrear:"actores/crear",titulo:"Actores",nombreEntidad:"Actor",children:function(e,t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{}),Object(d.jsx)("th",{children:"Nombre"})]})}),Object(d.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t("actores/editar/".concat(e.id),e.id)}),Object(d.jsx)("td",{children:e.nombre})]},e.id)}))})]})}})})},exact:!0,esAdmin:!0},{path:"/cines/crear",componente:function(){var e=Object(s.g)(),t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1];function i(e){return l.apply(this,arguments)}function l(){return(l=Object(E.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post(S,n);case 3:e.push("/cines"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),r(t.t0.response.data);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Crear cine"}),Object(d.jsx)(H,{errores:c}),Object(d.jsx)(Se,{modelo:{nombre:""},onSubmit:function(){var e=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})},esAdmin:!0},{path:"/cines/editar/:id(\\d+)",componente:function(){return Object(d.jsx)(Z,{url:S,urlIndice:"/cines",nombreEntidad:"Cines",children:function(e,t){return Object(d.jsx)(Se,{modelo:e,onSubmit:function(){var e=Object(E.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}})},esAdmin:!0},{path:"/cines",componente:function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(U,{url:S,urlCrear:"cines/crear",titulo:"Cines",nombreEntidad:"Cine",children:function(e,t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{}),Object(d.jsx)("th",{children:"Nombre"})]})}),Object(d.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:t("cines/editar/".concat(e.id),e.id)}),Object(d.jsx)("td",{children:e.nombre})]},e.id)}))})]})}})})},exact:!0,esAdmin:!0},{path:"/pelicula/:id(\\d+)",componente:function(){var e,t,n=Object(s.i)().id,c=Object(a.useState)(),r=Object(o.a)(c,2),i=r[0],u=r[1];function j(){return(j=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.post(w,{puntuacion:t,peliculaId:n});case 2:A.a.fire({icon:"success",title:"Voto recibido"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){L.a.get("".concat(N,"/").concat(n)).then((function(e){e.data.fechaLanzamiento=new Date(e.data.fechaLanzamiento),u(e.data)}))}),[n]),i?Object(d.jsx)("div",{style:{display:"flex"},children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("h2",{children:[i.titulo," (",i.fechaLanzamiento.getFullYear(),")"]}),null===(e=i.generos)||void 0===e?void 0:e.map((function(e){return Object(d.jsx)(l.b,{style:{marginRight:"5px"},className:"btn btn-primary btn-sm rounded-pill",to:"/peliculas/filtrar?generoId=".concat(e.id),children:e.nombre},e.id)})),"| ",i.fechaLanzamiento.toDateString(),"| Voto promedio: ",i.promedioVoto,"| Tu voto:",Object(d.jsx)(Le,{maximoValor:5,valorSeleccionado:i.votoUsuario,onChange:function(e){return j.apply(this,arguments)}}),Object(d.jsxs)("div",{style:{display:"flex",marginTop:"1rem"},children:[Object(d.jsx)("span",{style:{display:"inline-block",marginRight:"1rem"},children:Object(d.jsx)("img",{src:i.poster,style:{width:"225px",height:"315px"},alt:"poster"})}),i.trailer?Object(d.jsx)("div",{children:Object(d.jsx)("iframe",{title:"youtube-trailer",width:"560",height:"315",src:function(e){if(!e)return"";var t=e.split("v=")[1],n=t.indexOf("&");return-1!==n&&(t=t.substring(0,n)),"https://www.youtube.com/embed/".concat(t)}(i.trailer),frameBorder:0,allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):null]}),i.resumen?Object(d.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(d.jsx)("h3",{children:"Resumen"}),Object(d.jsx)("div",{children:Object(d.jsx)(re.a,{children:i.resumen})})]}):null,i.actores&&i.actores.length>0?Object(d.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(d.jsx)("h3",{children:"Actores"}),Object(d.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:null===(t=i.actores)||void 0===t?void 0:t.map((function(e){return Object(d.jsxs)("div",{style:{marginBottom:"2px"},children:[Object(d.jsx)("img",{alt:"foto",src:e.foto,style:{width:"50px",verticalAlign:"middle"}}),Object(d.jsx)("span",{style:{display:"inline-block",width:"200px",marginLeft:"1rem"},children:e.nombre}),Object(d.jsx)("span",{style:{display:"inline-block",width:"45px"},children:"..."}),Object(d.jsx)("span",{children:e.personaje})]},e.id)}))})]}):null,i.cines&&i.cines.length>0?Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:"Mostr\xe1ndose en los siguiente cines"}),Object(d.jsx)(xe,{soloLectura:!0,coordenadas:(null===i||void 0===i?void 0:i.cines)?i.cines.map((function(e){return{lat:e.latitud,lng:e.longitud,nombre:e.nombre}})):[]})]}):null]})}):Object(d.jsx)(T,{})}},{path:"/peliculas/crear",componente:function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(o.a)(r,2),l=i[0],u=i[1],j=Object(a.useState)(!1),b=Object(o.a)(j,2),m=b[0],p=b[1],h=Object(s.g)(),f=Object(a.useState)([]),O=Object(o.a)(f,2),x=O[0],g=O[1];function v(e){return y.apply(this,arguments)}function y(){return(y=Object(E.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=ee(t),e.next=4,L()({method:"post",url:N,data:n,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){h.push("/pelicula/".concat(e.data))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),g(e.t0.response.data);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){L.a.get("".concat(N,"/postget")).then((function(e){c(e.data.generos),u(e.data.cines),p(!0)}))}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Crear Pel\xedcula"}),Object(d.jsx)(H,{errores:x}),m?Object(d.jsx)(Ee,{actoresSeleccionados:[],cinesNoSeleccionados:l,cinesSeleccionados:[],generosNoSeleccionados:n,generosSeleccionados:[],modelo:{titulo:"",enCines:!1,trailer:""},onSubmit:function(){var e=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}):Object(d.jsx)(T,{})]})},esAdmin:!0},{path:"/peliculas/editar/:id(\\d+)",componente:function(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),i=Object(o.a)(r,2),l=i[0],u=i[1],j=Object(s.i)().id,b=Object(s.g)(),m=Object(a.useState)([]),p=Object(o.a)(m,2),h=p[0],f=p[1];function O(e){return x.apply(this,arguments)}function x(){return(x=Object(E.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=ee(t),e.next=4,L()({method:"put",url:"".concat(N,"/").concat(j),data:n,headers:{"Content-Type":"multipart/form-data"}});case 4:b.push("/pelicula/".concat(j)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f(e.t0.response.data);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){L.a.get("".concat(N,"/PutGet/").concat(j)).then((function(e){var t={titulo:e.data.pelicula.titulo,enCines:e.data.pelicula.enCines,trailer:e.data.pelicula.trailer,posterURL:e.data.pelicula.poster,resumen:e.data.pelicula.resumen,fechaLanzamiento:new Date(e.data.pelicula.fechaLanzamiento)};c(t),u(e.data)}))}),[j]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Editar Pel\xedcula"}),Object(d.jsx)(H,{errores:h}),n&&l?Object(d.jsx)(Ee,{actoresSeleccionados:l.actores,cinesSeleccionados:l.cinesSeleccionados,cinesNoSeleccionados:l.cinesNoSeleccionados,generosNoSeleccionados:l.generosNoSeleccionados,generosSeleccionados:l.generosSeleccionados,modelo:n,onSubmit:function(){var e=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}):Object(d.jsx)(T,{})]})},esAdmin:!0},{path:"/peliculas/filtrar",componente:function(){var e={titulo:"",generoId:0,proximosEstrenos:!1,enCines:!1,pagina:1,recordsPorPagina:1},t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)([]),l=Object(o.a)(i,2),u=l[0],j=l[1],b=Object(a.useState)(0),m=Object(o.a)(b,2),p=m[0],h=m[1],f=Object(s.g)(),x=new URLSearchParams(Object(s.h)().search);function g(t){!function(e){var t=[];e.titulo&&t.push("titulo=".concat(e.titulo));0!==e.generoId&&t.push("generoId=".concat(e.generoId));e.proximosEstrenos&&t.push("proximosEstrenos=".concat(e.proximosEstrenos));e.enCines&&t.push("enCines=".concat(e.enCines));t.push("pagina=".concat(e.pagina)),f.push("/peliculas/filtrar?".concat(t.join("&")))}(t),L.a.get("".concat(N,"/filtrar"),{params:t}).then((function(t){var n=parseInt(t.headers.cantidadtotalregistros,10);h(Math.ceil(n/e.recordsPorPagina)),j(t.data)}))}return Object(a.useEffect)((function(){L.a.get("".concat(v,"/todos")).then((function(e){r(e.data)}))}),[]),Object(a.useEffect)((function(){x.get("titulo")&&(e.titulo=x.get("titulo")),x.get("generoId")&&(e.generoId=parseInt(x.get("generoId"),10)),x.get("proximosEstrenos")&&(e.proximosEstrenos=!0),x.get("enCines")&&(e.enCines=!0),x.get("pagina")&&(e.pagina=parseInt(x.get("pagina"),10)),g(e)}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Filtrar Pel\xedculas"}),Object(d.jsx)(X.d,{initialValues:e,onSubmit:function(e){e.pagina=1,g(e)},children:function(t){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(X.c,{children:Object(d.jsxs)("div",{className:"form-inline",children:[Object(d.jsxs)("div",{className:"form-group mb-2",children:[Object(d.jsx)("label",{htmlFor:"titulo",className:"sr-only",children:"T\xedtulo"}),Object(d.jsx)("input",Object(se.a)({type:"text",className:"form-control",id:"titulo",placeholder:"T\xedtulo de la pel\xedcula"},t.getFieldProps("titulo")))]}),Object(d.jsx)("div",{className:"form-group mx-sm-3 mb-2",children:Object(d.jsxs)("select",Object(se.a)(Object(se.a)({className:"form-control"},t.getFieldProps("generoId")),{},{children:[Object(d.jsx)("option",{value:"0",children:"--Seleccione un g\xe9nero--"}),c.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.nombre},e.id)}))]}))}),Object(d.jsxs)("div",{className:"form-group mx-sm-3 mb-2",children:[Object(d.jsx)(X.b,{className:"form-check-input",id:"proximosEstrenos",name:"proximosEstrenos",type:"checkbox"}),Object(d.jsx)("label",{className:"form-check-label",htmlFor:"proximosEstrenos",children:"Pr\xf3ximos Estrenos"})]}),Object(d.jsxs)("div",{className:"form-group mx-sm-3 mb-2",children:[Object(d.jsx)(X.b,{className:"form-check-input",id:"enCines",name:"enCines",type:"checkbox"}),Object(d.jsx)("label",{className:"form-check-label",htmlFor:"enCines",children:"En Cines"})]}),Object(d.jsx)(O,{className:"btn btn-primary mb-2 mx-sm-3",onClick:function(){return t.submitForm()},children:"Filtrar"}),Object(d.jsx)(O,{className:"btn btn-danger mb-2",onClick:function(){t.setValues(e),g(e)},children:"Limpiar"})]})}),Object(d.jsx)(_,{peliculas:u}),Object(d.jsx)(D,{cantidadTotalDePaginas:p,paginaActual:t.values.pagina,onChange:function(e){t.values.pagina=e,g(t.values)}})]})}})]})}},{path:"/registro",componente:function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useContext)(u).actualizar,i=Object(s.g)();function l(e){return j.apply(this,arguments)}function j(){return(j=Object(E.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post("".concat(C,"/crear"),t);case 3:p((n=e.sent).data),r(h()),i.push("/"),console.log(n.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c(e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Registro"}),Object(d.jsx)(H,{errores:n}),Object(d.jsx)(Pe,{modelo:{email:"",password:""},onSubmit:function(){var e=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})}},{path:"/login",componente:function(){var e=Object(a.useContext)(u).actualizar,t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],r=n[1],i=Object(s.g)();function l(e){return j.apply(this,arguments)}function j(){return(j=Object(E.a)(F.a.mark((function t(n){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.post("".concat(C,"/login"),n);case 3:p((a=t.sent).data),e(h()),i.push("/"),console.log(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r(t.t0.response.data);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Login"}),Object(d.jsx)(H,{errores:c}),Object(d.jsx)(Pe,{modelo:{email:"",password:""},onSubmit:function(){var e=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})}},{path:"/usuarios",componente:function(){function e(){return(e=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("".concat(C,"/hacerAdmin"),t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(E.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("".concat(C,"/removerAdmin"),t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(e,t){return a.apply(this,arguments)}function a(){return(a=Object(E.a)(F.a.mark((function e(t,n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.post(t,JSON.stringify(n),{headers:{"Content-Type":"application/json"}});case 2:A.a.fire({title:"Exito",text:"Operaci\xf3n realizada con \xe9xito",icon:"success"});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.jsx)(U,{url:"".concat(C,"/listadoUsuarios"),titulo:"Usuarios",children:function(n){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{}),Object(d.jsx)("th",{children:"Nombre"})]})}),Object(d.jsx)("tbody",{children:null===n||void 0===n?void 0:n.map((function(n){return Object(d.jsxs)("tr",{children:[Object(d.jsxs)("td",{children:[Object(d.jsx)(O,{onClick:function(){return z((function(){return function(t){return e.apply(this,arguments)}(n.id)}),"\xbfDesea hacer a ".concat(n.email," admin?"),"Realizar")},children:"Hacer Admin"}),Object(d.jsx)(O,{className:"btn btn-danger",style:{marginLeft:"1rem"},onClick:function(){return z((function(){return function(e){return t.apply(this,arguments)}(n.id)}),"\xbfDesea remover a ".concat(n.email," como admin?"),"Realizar")},children:"Remover Admin"})]}),Object(d.jsx)("td",{children:n.email})]},n.id)}))})]})}})},esAdmin:!0},{path:"/",componente:function(){var e=Object(a.useState)({}),t=Object(o.a)(e,2),n=t[0],c=t[1];function r(){L.a.get(N).then((function(e){c(e.data)}))}return Object(a.useEffect)((function(){r()}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(M.Provider,{value:function(){return r()},children:[Object(d.jsx)("h3",{children:"En Cartelera"}),Object(d.jsx)(_,{peliculas:n.enCines}),Object(d.jsx)("h3",{children:"Pr\xf3ximos Estrenos"}),Object(d.jsx)(_,{peliculas:n.proximosEstrenos})]})})},exact:!0},{path:"*",componente:function(){return Object(d.jsx)(s.a,{to:{pathname:"/"}})}}];K.a(K.d,"primeraLetraMayuscula",(function(){return this.test("primera-letra-mayuscula","La primera letra debe ser may\xfascula",(function(e){if(e&&e.length>0){var t=e.substring(0,1);return t===t.toUpperCase()}return!0}))})),L.a.interceptors.request.use((function(e){var t=localStorage.getItem(b);return t&&(e.headers.Authorization="bearer ".concat(t)),e}),(function(e){return Promise.reject(e)}));var ze=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){c(h())}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(l.a,{children:Object(d.jsxs)(u.Provider,{value:{claims:n,actualizar:function(e){c(e)}},children:[Object(d.jsx)(x,{}),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(s.d,{children:Ae.map((function(e){return Object(d.jsx)(s.b,{path:e.path,exact:e.exact,children:!e.esAdmin||n.findIndex((function(e){return"role"===e.nombre&&"admin"===e.valor}))>-1?Object(d.jsx)(e.componente,{}):Object(d.jsx)(d.Fragment,{children:"No tiene permiso para acceder a este componente"})},e.path)}))})})]})})})},De=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,398)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},Te=(n(389),n(45)),Re=n(166);Te.b.add(Re.a),i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(ze,{})}),document.getElementById("root")),De()}},[[390,1,2]]]);